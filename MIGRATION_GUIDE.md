# ðŸ“¤ åª’ä½“æ–‡ä»¶è¿ç§»æŒ‡å—

## âœ… å·²å®Œæˆçš„å·¥ä½œ

### 1. åˆ›å»ºäº†åª’ä½“ç®¡ç†é¡µé¢
- **æ–‡ä»¶**: `media-manager.html`
- **åŠŸèƒ½**:
  - ä¸Šä¼ ç…§ç‰‡å’Œè§†é¢‘åˆ° Firebase Storage
  - æŒ‰åˆ†ç±»ç»„ç»‡ï¼ˆç…§ç‰‡å¢™ã€ç§˜å¯†ç›¸å†Œã€è§†é¢‘ã€æ—¥åŽ†ï¼‰
  - æŸ¥çœ‹ã€åˆ é™¤ã€å¤åˆ¶é“¾æŽ¥
  - å®žæ—¶ç»Ÿè®¡ä¿¡æ¯

### 2. æ›´æ–°äº†ç…§ç‰‡å¢™é¡µé¢
- **æ–‡ä»¶**: `assets/imgs.html`
- **ä¿®æ”¹**:
  - ä»Ž Firebase Storage åŠ¨æ€åŠ è½½ç…§ç‰‡å’Œè§†é¢‘
  - è‡ªåŠ¨æŒ‰ä¸Šä¼ æ—¶é—´å€’åºæ˜¾ç¤º
  - ä¿æŒåŽŸæœ‰çš„ UI å’Œäº¤äº’æ•ˆæžœ

### 3. æ›´æ–°äº†ç§˜å¯†ç…§ç‰‡å¢™é¡µé¢
- **æ–‡ä»¶**: `assets/secretImgs.html`
- **ä¿®æ”¹**:
  - ä»Ž Firebase Storage åŠ¨æ€åŠ è½½ç§˜å¯†ç…§ç‰‡
  - è‡ªåŠ¨æŒ‰ä¸Šä¼ æ—¶é—´å€’åºæ˜¾ç¤º
  - ä¿æŒåŽŸæœ‰çš„ UI å’Œäº¤äº’æ•ˆæžœ

---

## ðŸ“‹ ä¸‹ä¸€æ­¥æ“ä½œ

### ç¬¬ä¸€æ­¥ï¼šä¸Šä¼ çŽ°æœ‰åª’ä½“æ–‡ä»¶åˆ° Firebase

#### 1. è®¿é—®åª’ä½“ç®¡ç†é¡µé¢

åœ¨æœ¬åœ°æ‰“å¼€æˆ–éƒ¨ç½²åŽè®¿é—®ï¼š
```
https://slopeplotnick.github.io/for_quinn/media-manager.html
```

#### 2. è¾“å…¥ç®¡ç†å‘˜å¯†ç 

å¯†ç ï¼š`xp9174110`

#### 3. ä¸Šä¼ ç…§ç‰‡

**éœ€è¦ä¸Šä¼ çš„ç…§ç‰‡åˆ—è¡¨** (å…±çº¦40å¼ )ï¼š

ðŸ“ **ç…§ç‰‡å¢™åˆ†ç±»** (é€‰æ‹© "ç…§ç‰‡å¢™"):
- `assets/img/dataImgs/25-04-18-01.jpg` - ç›¸å†Œå°é¢
- `assets/img/dataImgs/24-04-06.JPG` - ä¸€èµ·åšäº†å°é…’çªè›‹ç³•
- `assets/img/dataImgs/24-05-01.JPG` - æ¼‚äº®çš„ç‡•ç‡•å®å®
- `assets/img/dataImgs/24-10-25.jpg` - å”±æ­Œingçš„å°å¡
- `assets/img/dataImgs/24-10-21.jpg` - ä¼šæ¯”è€¶çš„äººåž‹çŽ©å¶
- `assets/img/dataImgs/24-11-07-01.jpg` - å¤§åž‹æ²™å‘æ‘†ä»¶
- `assets/img/dataImgs/24-11-07-02.jpg` - çŽ©å…·å¨ƒå¨ƒå‘€
- `assets/img/dataImgs/24-11-10.jpg` - ç»™ç‡•ç‡•å®å®å¹å¤´å‘
- `assets/img/dataImgs/24-12-07.jpg` - è·Ÿå¡çˆ¸å¡å¦ˆåœ¨ä¸œæ¹–æ•£æ­¥
- `assets/img/dataImgs/24-12-08-01.jpg` - å¡å¦ˆé€çš„å‘æ—¥è‘µ
- `assets/img/dataImgs/24-12-08-02.jpg` - è·Ÿå¡çˆ¸å¡å¦ˆé€›å±±å§†
- `assets/img/dataImgs/24-12-15.jpg` - ç‡•ç‡•è·Ÿå°å¡ä¸€å®¶ä¸‰å£çˆ¬å±±
- `assets/img/dataImgs/25-02-08.jpg` - ç‡•ç‡•çš„æ‰‹æœºå£çº¸
- `assets/img/dataImgs/25-04-18-02.jpg` - èœœæ±æˆªå›¾1
- `assets/img/dataImgs/25-04-18-03.jpg` - èœœæ±æˆªå›¾2
- `assets/img/dataImgs/25-04-18-04.jpg` - èœœæ±æˆªå›¾3
- `assets/img/dataImgs/25-04-18-05.jpg` - èœœæ±æˆªå›¾4
- `assets/img/dataImgs/25-03-05-01.jpg` - æƒå¨è§†è§’1
- `assets/img/dataImgs/25-03-05-02.jpg` - æƒå¨è§†è§’2
- `assets/img/dataImgs/25-03-05-03.jpg` - æƒå¨è§†è§’3
- `assets/img/dataImgs/25-04-19.png` - è§è¯æˆé•¿çš„æˆªå›¾
- `assets/img/dataImgs/25-04-29.jpg`

ðŸ“ **ç§˜å¯†ç›¸å†Œåˆ†ç±»** (é€‰æ‹© "ç§˜å¯†ç›¸å†Œ"):
- `assets/img/dataImgs/24-09-09-02.jpg` - å®å®çš„ä¸è¢œè„šäº¤
- `assets/img/dataImgs/24-11-26-01.jpg` - å°å¡ä¸“ç”¨æ”¾å¤´å¤„1
- `assets/img/dataImgs/24-11-26-02.jpg` - å°å¡ä¸“ç”¨æ”¾å¤´å¤„2

#### 4. ä¸Šä¼ è§†é¢‘

ðŸ“ **è§†é¢‘åˆ†ç±»** (é€‰æ‹© "è§†é¢‘"):
- `assets/video/VID_20240911_211236.mp4` - å®œæ˜Œè…¾æ ¼å°”
- `assets/video/VID_20241222_210842.mp4` - ç–‘ä¼¼è¢«å—å®«é—®é›…äº²äº†
- `assets/video/VID_20250305_172901.mp4` - å°å¡ä¸ŠåŒæ  (174 MB)
- `assets/video/2025_05_11_15_16_52.mp4`

**æç¤º**:
- å¯ä»¥ä¸€æ¬¡é€‰æ‹©å¤šä¸ªæ–‡ä»¶ä¸Šä¼ 
- æ”¯æŒæ‹–æ”¾ä¸Šä¼ 
- ä¼šæ˜¾ç¤ºä¸Šä¼ è¿›åº¦
- ä¸Šä¼ å®ŒæˆåŽå¯ä»¥åœ¨å¯¹åº”åˆ†ç±»æ ‡ç­¾é¡µæŸ¥çœ‹

---

### ç¬¬äºŒæ­¥ï¼šæµ‹è¯•é¡µé¢

#### 1. æµ‹è¯•ç…§ç‰‡å¢™

è®¿é—®ï¼š`https://slopeplotnick.github.io/for_quinn/assets/imgs.html`

**é¢„æœŸç»“æžœ**:
- æ˜¾ç¤º "åŠ è½½ä¸­..." æç¤º
- åŠ è½½å®ŒæˆåŽæ˜¾ç¤ºæ‰€æœ‰ä¸Šä¼ çš„ç…§ç‰‡å’Œè§†é¢‘
- ç‚¹å‡»ç…§ç‰‡/è§†é¢‘å¯ä»¥æŸ¥çœ‹å¤§å›¾/æ’­æ”¾
- æŒ‰ä¸Šä¼ æ—¶é—´å€’åºæ˜¾ç¤º

#### 2. æµ‹è¯•ç§˜å¯†ç…§ç‰‡å¢™

è®¿é—®ï¼š`https://slopeplotnick.github.io/for_quinn/assets/secretImgs.html`

**é¢„æœŸç»“æžœ**:
- æ˜¾ç¤º "åŠ è½½ä¸­..." æç¤º
- åŠ è½½å®ŒæˆåŽæ˜¾ç¤ºç§˜å¯†ç›¸å†Œçš„ç…§ç‰‡
- ç‚¹å‡»ç…§ç‰‡å¯ä»¥æŸ¥çœ‹å¤§å›¾

---

### ç¬¬ä¸‰æ­¥ï¼šæ¸…ç† Git åŽ†å²ä¸­çš„å¤§æ–‡ä»¶

**âš ï¸ é‡è¦**: ä¸Šä¼ å®Œæ‰€æœ‰åª’ä½“åˆ° Firebase Storage å¹¶æµ‹è¯•æˆåŠŸåŽï¼Œæ‰èƒ½æ‰§è¡Œæ­¤æ­¥éª¤ï¼

#### æ–¹æ³•ä¸€ï¼šä½¿ç”¨ git-filter-repo (æŽ¨è)

```bash
# 1. å®‰è£… git-filter-repo
pip install git-filter-repo

# 2. åˆ›å»ºè¦åˆ é™¤çš„æ–‡ä»¶åˆ—è¡¨
cat > files-to-remove.txt << EOF
assets/video/VID_20240911_211236.mp4
assets/video/VID_20241222_210842.mp4
assets/video/VID_20250305_172901.mp4
assets/video/2025_05_11_15_16_52.mp4
assets/img/dataImgs/
EOF

# 3. ä»Ž Git åŽ†å²ä¸­åˆ é™¤è¿™äº›æ–‡ä»¶
git filter-repo --invert-paths --paths-from-file files-to-remove.txt

# 4. æ·»åŠ  .gitignore
echo "assets/video/*.mp4" >> .gitignore
echo "assets/img/dataImgs/*.jpg" >> .gitignore
echo "assets/img/dataImgs/*.JPG" >> .gitignore
echo "assets/img/dataImgs/*.png" >> .gitignore

# 5. æäº¤ .gitignore å˜æ›´
git add .gitignore
git commit -m "æ·»åŠ åª’ä½“æ–‡ä»¶åˆ° .gitignore"

# 6. å¼ºåˆ¶æŽ¨é€ï¼ˆä¼šé‡å†™ Git åŽ†å²ï¼‰
git push origin master --force
```

#### æ–¹æ³•äºŒï¼šä½¿ç”¨ BFG Repo-Cleaner

```bash
# 1. ä¸‹è½½ BFG
# è®¿é—® https://rtyley.github.io/bfg-repo-cleaner/
# ä¸‹è½½ bfg.jar

# 2. åˆ é™¤å¤§äºŽ 50MB çš„æ–‡ä»¶
java -jar bfg.jar --strip-blobs-bigger-than 50M

# 3. æ¸…ç† Git åŽ†å²
git reflog expire --expire=now --all
git gc --prune=now --aggressive

# 4. å¼ºåˆ¶æŽ¨é€
git push origin master --force
```

#### æ–¹æ³•ä¸‰ï¼šåˆ›å»ºæ–°çš„å¹²å‡€ä»“åº“ (æœ€ç®€å•)

```bash
# 1. å¤‡ä»½å½“å‰é¡¹ç›®
cp -r for_quinn for_quinn_backup

# 2. åˆ é™¤ .git ç›®å½•
cd for_quinn
rm -rf .git

# 3. åˆ é™¤åª’ä½“æ–‡ä»¶
rm -rf assets/img/dataImgs/*
rm -rf assets/video/*.mp4

# 4. åˆ›å»º .gitignore
cat > .gitignore << EOF
# åª’ä½“æ–‡ä»¶ï¼ˆå·²ä¸Šä¼ åˆ° Firebase Storageï¼‰
assets/video/*.mp4
assets/img/dataImgs/*.jpg
assets/img/dataImgs/*.JPG
assets/img/dataImgs/*.png
EOF

# 5. åˆå§‹åŒ–æ–°ä»“åº“
git init
git add .
git commit -m "è¿ç§»åˆ° Firebase Storage - åˆå§‹æäº¤"

# 6. æ·»åŠ è¿œç¨‹ä»“åº“
git remote add origin https://github.com/slopeplotnick/for_quinn.git

# 7. å¼ºåˆ¶æŽ¨é€
git push -u origin master --force
```

---

## ðŸ” éªŒè¯æ¸…ç†ç»“æžœ

### æ£€æŸ¥ä»“åº“å¤§å°

```bash
# æŸ¥çœ‹ .git ç›®å½•å¤§å°
du -sh .git

# åº”è¯¥ä»ŽåŽŸæ¥çš„ 200+ MB é™åˆ° 10 MB å·¦å³
```

### æ£€æŸ¥æ–‡ä»¶æ˜¯å¦å­˜åœ¨

```bash
# ç¡®è®¤åª’ä½“æ–‡ä»¶å·²ä»Žä»“åº“ä¸­åˆ é™¤
git log --all --full-history -- "assets/video/*.mp4"

# å¦‚æžœè¿”å›žç©ºï¼Œè¯´æ˜Žæ¸…ç†æˆåŠŸ
```

---

## ðŸ“Š è¿ç§»å‰åŽå¯¹æ¯”

### è¿ç§»å‰
- âŒ Git ä»“åº“åŒ…å«å¤§é‡åª’ä½“æ–‡ä»¶ï¼ˆ233 MBï¼‰
- âŒ æŽ¨é€å¤±è´¥ï¼ˆè¶…è¿‡ GitHub 100 MB é™åˆ¶ï¼‰
- âŒ å…‹éš†é€Ÿåº¦æ…¢
- âŒ åª’ä½“æ–‡ä»¶æ··åœ¨ä»£ç ä¸­

### è¿ç§»åŽ
- âœ… Git ä»“åº“åªåŒ…å«ä»£ç ï¼ˆ< 10 MBï¼‰
- âœ… å¯ä»¥é¡ºåˆ©æŽ¨é€åˆ° GitHub
- âœ… å…‹éš†é€Ÿåº¦å¿«
- âœ… åª’ä½“æ–‡ä»¶æ‰˜ç®¡åœ¨ Firebase Storage
- âœ… æ”¯æŒæ— é™å¤§å°çš„åª’ä½“æ–‡ä»¶
- âœ… è‡ªåŠ¨ CDN åŠ é€Ÿ
- âœ… å¯ä»¥éšæ—¶é€šè¿‡ç®¡ç†é¡µé¢æ·»åŠ /åˆ é™¤åª’ä½“

---

## ðŸŽ¯ æœ€ä½³å®žè·µ

### 1. ä»ŠåŽæ·»åŠ åª’ä½“æ–‡ä»¶

**ä¸è¦**ç›´æŽ¥å°†åª’ä½“æ–‡ä»¶æ”¾åˆ° `assets/img/dataImgs/` æˆ– `assets/video/` ç›®å½•ï¼

**åº”è¯¥**é€šè¿‡åª’ä½“ç®¡ç†é¡µé¢ä¸Šä¼ ï¼š
1. è®¿é—® `media-manager.html`
2. è¾“å…¥å¯†ç 
3. é€‰æ‹©åˆ†ç±»
4. ä¸Šä¼ æ–‡ä»¶

### 2. æ–‡ä»¶å‘½åå»ºè®®

ä¸ºäº†åœ¨ç…§ç‰‡å¢™æ˜¾ç¤ºæ—¶æ›´ç¾Žè§‚ï¼Œå»ºè®®æ–‡ä»¶åä½¿ç”¨æœ‰æ„ä¹‰çš„åç§°ï¼š

å¥½çš„å‘½åï¼š
- `2024-04-06-å°é…’çªè›‹ç³•.jpg`
- `2024-12-07-ä¸œæ¹–æ•£æ­¥.jpg`
- `ç‡•ç‡•çš„æ‰‹æœºå£çº¸.jpg`

ä¸æŽ¨èï¼š
- `IMG_1234.jpg`
- `photo.jpg`
- `unnamed.jpg`

å› ä¸ºæ–‡ä»¶åä¼šè¢«æ˜¾ç¤ºä¸ºå¡ç‰‡æ ‡é¢˜ã€‚

### 3. å®šæœŸå¤‡ä»½

è™½ç„¶ Firebase æœ‰è‡ªåŠ¨å¤‡ä»½ï¼Œä½†å»ºè®®å®šæœŸå¯¼å‡ºæ•°æ®ï¼š

1. è¿›å…¥ Firebase æŽ§åˆ¶å°
2. Storage â†’ é€‰æ‹©æ–‡ä»¶ â†’ ä¸‹è½½
3. Firestore Database â†’ å¯¼å‡ºæ•°æ®

---

## âš ï¸ æ³¨æ„äº‹é¡¹

### 1. å¼ºåˆ¶æŽ¨é€çš„å½±å“

ä½¿ç”¨ `git push --force` ä¼šé‡å†™ Git åŽ†å²ï¼Œå¦‚æžœæœ‰å…¶ä»–åä½œè€…ï¼Œéœ€è¦é€šçŸ¥ä»–ä»¬ï¼š

```bash
# å…¶ä»–åä½œè€…éœ€è¦æ‰§è¡Œ
git fetch origin
git reset --hard origin/master
```

### 2. æœ¬åœ°åª’ä½“æ–‡ä»¶å¤‡ä»½

æ¸…ç† Git åŽ†å²åŽï¼Œç¡®ä¿ï¼š
- æ‰€æœ‰åª’ä½“æ–‡ä»¶å·²ä¸Šä¼ åˆ° Firebase Storage
- åœ¨æœ¬åœ°ä¿ç•™ä¸€ä»½å¤‡ä»½ï¼ˆåœ¨åˆ é™¤å‰ï¼‰
- æµ‹è¯•ç½‘ç«™å¯ä»¥æ­£å¸¸æ˜¾ç¤ºæ‰€æœ‰åª’ä½“

### 3. Firebase Storage é…é¢

Firebase å…è´¹å¥—é¤åŒ…æ‹¬ï¼š
- âœ… 5 GB å­˜å‚¨ç©ºé—´
- âœ… æ¯å¤© 1 GB ä¸‹è½½æµé‡

å¯¹äºŽä¸ªäººç½‘ç«™å®Œå…¨è¶³å¤Ÿï¼

---

## ðŸ†˜ é‡åˆ°é—®é¢˜ï¼Ÿ

### é—®é¢˜1ï¼šä¸Šä¼ å¤±è´¥

**å¯èƒ½åŽŸå› **:
- ç½‘ç»œè¿žæŽ¥é—®é¢˜
- Firebase é…ç½®é”™è¯¯
- æ–‡ä»¶æ ¼å¼ä¸æ”¯æŒ

**è§£å†³æ–¹æ³•**:
1. æ£€æŸ¥æµè§ˆå™¨æŽ§åˆ¶å°é”™è¯¯ä¿¡æ¯
2. ç¡®è®¤ Firebase Storage å·²å¯ç”¨
3. æ£€æŸ¥ Firebase å®‰å…¨è§„åˆ™

### é—®é¢˜2ï¼šç…§ç‰‡å¢™æ˜¾ç¤ºä¸å‡ºæ¥

**å¯èƒ½åŽŸå› **:
- Firebase åˆå§‹åŒ–å¤±è´¥
- æ–‡ä»¶åˆ†ç±»é”™è¯¯
- URL è¿‡æœŸ

**è§£å†³æ–¹æ³•**:
1. æ‰“å¼€æµè§ˆå™¨æŽ§åˆ¶å°æŸ¥çœ‹é”™è¯¯
2. ç¡®è®¤ `firebase-config.js` é…ç½®æ­£ç¡®
3. åœ¨åª’ä½“ç®¡ç†é¡µé¢æ£€æŸ¥æ–‡ä»¶æ˜¯å¦å­˜åœ¨

### é—®é¢˜3ï¼šGit æŽ¨é€ä»ç„¶å¤±è´¥

**å¯èƒ½åŽŸå› **:
- å¤§æ–‡ä»¶ä»åœ¨ Git åŽ†å²ä¸­

**è§£å†³æ–¹æ³•**:
```bash
# æ£€æŸ¥å“ªäº›æ–‡ä»¶æœ€å¤§
git rev-list --objects --all | \
  git cat-file --batch-check='%(objecttype) %(objectname) %(objectsize) %(rest)' | \
  sed -n 's/^blob //p' | \
  sort --numeric-sort --key=2 | \
  tail -20

# ä½¿ç”¨ BFG æ¸…ç†
java -jar bfg.jar --strip-blobs-bigger-than 50M
git reflog expire --expire=now --all
git gc --prune=now --aggressive
```

---

## ðŸ“ æ–‡ä»¶å˜æ›´æ¸…å•

### æ–°å¢žæ–‡ä»¶
- âœ… `media-manager.html` - åª’ä½“ç®¡ç†é¡µé¢
- âœ… `MIGRATION_GUIDE.md` - æœ¬è¿ç§»æŒ‡å—ï¼ˆè¿™ä¸ªæ–‡ä»¶ï¼‰

### ä¿®æ”¹æ–‡ä»¶
- âœ… `firebase-config.js` - æ·»åŠ  Storage åˆå§‹åŒ–
- âœ… `assets/imgs.html` - æ”¹ä¸ºä»Ž Firebase Storage åŠ è½½
- âœ… `assets/secretImgs.html` - æ”¹ä¸ºä»Ž Firebase Storage åŠ è½½

### å¾…åˆ é™¤æ–‡ä»¶ï¼ˆä¸Šä¼ åˆ° Firebase åŽï¼‰
- `assets/img/dataImgs/*.jpg`
- `assets/img/dataImgs/*.JPG`
- `assets/img/dataImgs/*.png`
- `assets/video/*.mp4`

---

## âœ… å®Œæˆæ£€æŸ¥æ¸…å•

åœ¨æ‰§è¡Œ Git æŽ¨é€å‰ï¼Œè¯·ç¡®è®¤ï¼š

- [ ] æ‰€æœ‰ç…§ç‰‡å·²ä¸Šä¼ åˆ° Firebase Storage
- [ ] æ‰€æœ‰è§†é¢‘å·²ä¸Šä¼ åˆ° Firebase Storage
- [ ] ç…§ç‰‡å¢™é¡µé¢å¯ä»¥æ­£å¸¸æ˜¾ç¤º
- [ ] ç§˜å¯†ç…§ç‰‡å¢™é¡µé¢å¯ä»¥æ­£å¸¸æ˜¾ç¤º
- [ ] åœ¨æœ¬åœ°ä¿ç•™äº†åª’ä½“æ–‡ä»¶å¤‡ä»½
- [ ] å·²åˆ›å»º `.gitignore` æ–‡ä»¶
- [ ] å·²æ¸…ç† Git åŽ†å²
- [ ] Git ä»“åº“å¤§å°é™åˆ° 10 MB ä»¥ä¸‹

---

**ç¥è¿ç§»é¡ºåˆ©ï¼ðŸ’•**

å¦‚æžœæœ‰ä»»ä½•é—®é¢˜ï¼Œè¯·éšæ—¶å’¨è¯¢ã€‚
